expr              : KEYWORD:set IDENTIFIER EQ expr
                  : compar-expr ((KEYWORD:AND|KEYWORD:OR)compar-expr)*
                  
compar-expr       : NOT compar-expr
                  : arith-exp ((EE|LT|GT|GTE|LTE) arith-exp)*
        
arith-expr        : term ((PLUS|MINUS) term)*

term              : factor ((MUL|DIV) factor)*

factor            : (PLUS|MINUS) factor
                  : power

power             : call ((POW) factor)*

call              : atom (LPAREN (expr (COMMA expr)*)? RPAREN)?
       
atom              : INT|FLOAT|STRING|IDENTIFIER
                  : LPAREN exp RPAREN
                  : if-expr 
                  : func-def

if-expr           : KEYWORD: IF expr KEYWORD: THEN expr
                   (KEYWORD:ELIF expr KEYWORD:THEN expr)*
                   (KEYWORD:ELSE expr)?

for-expr          : KEYWORD:FOR IDENTIFIER EQ expr KEYWORD:TO expr
                  : (KEYWORD:STEP)? expr KEYWORD:THEN expr    

while-expr        : KEYWORD:WHILE expr KEYWORD:THEN expr  

fun-def           : KEYWORD:FUN IDENTIFIER? LPAREN (IDENTIFIER (COMMA IDENTIFIER)*)? RPAREN
                  : ARROW expr